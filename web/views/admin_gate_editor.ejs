<%- include('partials/header') %>

<section class="card">
  <div class="row-between">
    <h2>Editor de gates</h2>
    <div class="admin-links">
      <a class="button-link" href="/admin/server-editor">Editor servidor</a>
      <a class="button-link" href="/admin/accounts">Cuentas</a>
      <a class="button-link" href="/admin/news">Noticias</a>
      <a class="button-link" href="/admin/logout">Salir</a>
    </div>
  </div>

  <% if (!editorEnabled) { %>
    <div class="alert">
      El editor del servidor esta deshabilitado. Para activarlo, inicia el stack con
      <code>EDITOR_ENABLED=1</code> y el compose del editor.
    </div>
  <% } else { %>
    <div id="gate-editor"></div>
    <div class="alert warning" style="margin-top: 12px;">
      Nota: las gates agregadas en el servidor deben agregarse tambien en el cliente
      (<code>Gate.bmd</code>/<code>Gate.txt</code>) para que funcionen. En el repo original
      de Kayito hay un editor de <strong>BMD</strong>.
    </div>
  <% } %>
</section>

<% if (editorEnabled) { %>
<script src="/js/gates-editor.js"></script>
<% } %>

<%- include('partials/footer') %>
